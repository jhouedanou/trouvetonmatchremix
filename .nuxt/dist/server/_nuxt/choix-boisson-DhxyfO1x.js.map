{"version":3,"file":"choix-boisson-DhxyfO1x.js","sources":["../../../../pages/choix-boisson.vue"],"sourcesContent":["<template>\n  <section class=\"section\">\n    <div class=\"container\">\n      <h2 class=\"title\">\n        Choisissez votre {{ userTeam === \"biere\" ? \"bière\" : \"soda\" }}\n      </h2>\n\n      <div class=\"columns is-flex is-multiline\">\n        <div\n          v-for=\"boisson in boissonsDisponibles\"\n          :key=\"boisson.id\"\n          class=\"column is-6 is-6-mobile\"\n        >\n          <div class=\"card\">\n            <div class=\"card-image\">\n              <figure class=\"image\">\n                <img :src=\"boisson.image\" :alt=\"boisson.nom\" />\n              </figure>\n            </div>\n            <div class=\"card-content\">\n              <label class=\"radio\">\n                <input\n                  type=\"radio\"\n                  v-model=\"choixBoisson\"\n                  :value=\"boisson.id\"\n                  @change=\"sauvegarderChoix\"\n                />\n                {{ boisson.nom }}\n              </label>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </section>\n</template>\n\n<script setup>\nimport { ref, onMounted } from \"vue\";\nimport { useRoute, useRouter } from \"vue-router\";\nimport { supabase } from \"~/utils/supabase\";\n\nconst route = useRoute();\nconst router = useRouter();\nconst choixBoisson = ref(null);\nconst userTeam = ref(null);\n\nconst bieres = [\n  { id: \"b1\", nom: \"Brune\", image: \"/img/symboles/bieres/01.png\" },\n  { id: \"b2\", nom: \"Blonde\", image: \"/img/symboles/bieres/02.png\" },\n  { id: \"b3\", nom: \"Ambrée\", image: \"/img/symboles/bieres/03.png\" },\n  { id: \"b4\", nom: \"Alcoomix\", image: \"/img/symboles/bieres/04.png\" },\n];\n\nconst sodas = [\n  { id: \"s1\", nom: \"World Cola\", image: \"/img/symboles/soda/01.png\" },\n  { id: \"s2\", nom: \"XXL Malt\", image: \"/img/symboles/soda/02.png\" },\n  { id: \"s3\", nom: \"TOp\", image: \"/img/symboles/soda/03.png\" },\n  { id: \"s4\", nom: \"Youzou\", image: \"/img/symboles/soda/04.png\" },\n];\n\nconst boissonsDisponibles = computed(() => {\n  return userTeam.value === \"biere\" ? bieres : sodas;\n});\n\nonMounted(async () => {\n  const { data } = await supabase\n    .from(\"users\")\n    .select(\"team\")\n    .eq(\"id\", route.params.id)\n    .single();\n\n  if (data) {\n    userTeam.value = data.team;\n  }\n});\n\nconst sauvegarderChoix = async () => {\n  const { data } = await supabase\n    .from(\"user_drinks\")\n    .insert([\n      {\n        user_id: route.params.id,\n        drink_choice: choixBoisson.value,\n      },\n    ])\n    .select();\n\n  if (data) {\n    router.push(\"/match\");\n  }\n};\n</script>\n<style>\n.card {\n  background-color: rgba(255, 255, 255, 0.7);\n  border-radius: 15px;\n  padding: 1rem;\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\n\n  color: #c40e0e !important;\n}\n</style>\n"],"names":[],"mappings":";;;;;;;;;AA0Cc,aAAQ;AACP,cAAS;AACxB,UAAM,eAAe,IAAI,IAAI;AAC7B,UAAM,WAAW,IAAI,IAAI;AAEzB,UAAM,SAAS;AAAA,MACb,EAAE,IAAI,MAAM,KAAK,SAAS,OAAO,8BAA+B;AAAA,MAChE,EAAE,IAAI,MAAM,KAAK,UAAU,OAAO,8BAA+B;AAAA,MACjE,EAAE,IAAI,MAAM,KAAK,UAAU,OAAO,8BAA+B;AAAA,MACjE,EAAE,IAAI,MAAM,KAAK,YAAY,OAAO,8BAA+B;AAAA,IACrE;AAEA,UAAM,QAAQ;AAAA,MACZ,EAAE,IAAI,MAAM,KAAK,cAAc,OAAO,4BAA6B;AAAA,MACnE,EAAE,IAAI,MAAM,KAAK,YAAY,OAAO,4BAA6B;AAAA,MACjE,EAAE,IAAI,MAAM,KAAK,OAAO,OAAO,4BAA6B;AAAA,MAC5D,EAAE,IAAI,MAAM,KAAK,UAAU,OAAO,4BAA6B;AAAA,IACjE;AAEA,UAAM,sBAAsB,SAAS,MAAM;AACzC,aAAO,SAAS,UAAU,UAAU,SAAS;AAAA,IAC/C,CAAC;;;;;;;;;;;;;;;;"}